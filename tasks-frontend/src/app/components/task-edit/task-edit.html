<section
    class="max-w-xl mx-auto bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 p-6 rounded-xl shadow-lg mt-2"
    *ngIf="task">
    <div class="flex justify-between items-center border-b-2 border-gray-300 dark:border-gray-600 mb-4 px-1">
        <h2 class="text-center text-2xl text-gray-800 dark:text-gray-100">Editar Tarea</h2>
        <button (click)="cancel()"
            class="text-xl font-bold text-gray-600 hover:text-red-600 transition-colors cursor-pointer">X</button>
    </div>

    <form (ngSubmit)="updateTask()" class="flex flex-col gap-4 px-1">
        <div>
            <label class="block text-gray-700 dark:text-gray-200 mb-1 font-medium">Título:</label>
            <input type="text" [(ngModel)]="task.titulo" name="titulo" required
                class="w-full p-3 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <div>
            <label class="block text-gray-700 dark:text-gray-200 mb-1 font-medium">Descripción:</label>
            <textarea [(ngModel)]="task.description" name="description" required
                class="w-full p-3 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y min-h-[100px]"></textarea>
        </div>

        <div class="flex w-full gap-2 justify-between items-center">
            <div class="w-full">
                <label class="block text-gray-700 dark:text-gray-200 mb-1 font-medium">Fecha límite:</label>
                <input type="date" [(ngModel)]="task.dueDate" name="dueDate" required
                    class="w-full p-3 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" />
            </div>

            <div class="w-full">
                <label class="block text-gray-700 dark:text-gray-200 mb-1 font-medium">Prioridad:</label>
                <select [(ngModel)]="task.priority" name="priority"
                    class="w-full p-3 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option [value]="1">Baja</option>
                    <option [value]="2">Media</option>
                    <option [value]="3">Alta</option>
                </select>
            </div>
        </div>

        <div class="flex items-center">
            <input type="checkbox" [(ngModel)]="task.isCompleted" name="isCompleted"
                class="mr-2 w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 font-medium" />
            <label class="font-medium text-gray-700 dark:text-gray-200">¿Completada?</label>
        </div>

        <button type="submit"
            class="w-full py-3 px-6 bg-blue-100 dark:bg-blue-700 text-blue-800 dark:text-white font-bold rounded-full shadow-md hover:scale-105 hover:shadow-inner active:scale-95 transition-all duration-300">
            Guardar Cambios
        </button>
    </form>
</section>